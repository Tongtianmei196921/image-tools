<!-- 在 tool-group 中添加格式转换按钮 -->
<div class="tool-group">
    <button class="tool-btn" data-tool="rotate">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
            <path d="M3 3v5h5"/>
        </svg>
        旋转
    </button>
    <button class="tool-btn" data-tool="flip">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 3v18"/>
            <path d="m17 8-5-5-5 5"/>
            <path d="m17 16-5 5-5-5"/>
        </svg>
        翻转
    </button>
    <!-- 新增格式转换按钮 -->
    <button class="tool-btn" data-tool="format">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
            <polyline points="22,6 12,13 2,6"/>
        </svg>
        格式转换
    </button>
    <button class="tool-btn" data-tool="brightness">
        <!-- ... 其他按钮保持不变 ... -->
    </button>
</div>

<!-- 添加格式选择对话框 -->
<div class="format-dialog" style="display: none;">
    <div class="format-options">
        <h3>选择输出格式</h3>
        <div class="format-buttons">
            <button class="format-btn" data-format="image/jpeg">JPG</button>
            <button class="format-btn" data-format="image/png">PNG</button>
            <button class="format-btn" data-format="image/webp">WebP</button>
            <button class="format-btn" data-format="image/gif">GIF</button>
        </div>
        <div class="quality-control">
            <label for="quality">质量：<span id="qualityValue">80%</span></label>
            <input type="range" id="quality" min="1" max="100" value="80">
        </div>
        <div class="dialog-buttons">
            <button class="cancel-btn">取消</button>
            <button class="apply-btn">转换</button>
        </div>
    </div>
</div>
